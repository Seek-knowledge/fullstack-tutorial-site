(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{237:function(t,e,s){"use strict";s.r(e);var r=s(0),a=Object(r.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("p",[t._v("本文部分内容引用来自：【千锋-李卫民老师博客，推荐大家学习】http://www.funtl.com/")]),t._v(" "),s("p",[t._v("A simple, interactive and fun playground to learn Docker："),s("a",{attrs:{href:"https://labs.play-with-docker.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Play with Docker"),s("OutboundLink")],1)]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),s("p",[t._v("Docker 最初是 dotCloud 公司创始人 Solomon Hykes 在法国期间发起的一个公司内部项目，它是基于 dotCloud 公司多年云服务技术的一次革新，并于 "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Docker_(software)",target:"_blank",rel:"noopener noreferrer"}},[t._v("2013 年 3 月以 Apache 2.0 授权协议开源"),s("OutboundLink")],1),t._v("，主要项目代码在 "),s("a",{attrs:{href:"https://github.com/moby/moby",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),s("OutboundLink")],1),t._v(" 上进行维护。Docker 项目后来还加入了 Linux 基金会，并成立推动 "),s("a",{attrs:{href:"https://www.opencontainers.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("开放容器联盟（OCI）"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("p",[t._v("Docker 自开源后受到广泛的关注和讨论，至今其 GitHub 项目已经超过 4 万 6 千个星标和一万多个 fork。甚至由于 Docker 项目的火爆，在 2013 年底，"),s("a",{attrs:{href:"https://blog.docker.com/2013/10/dotcloud-is-becoming-docker-inc/",target:"_blank",rel:"noopener noreferrer"}},[t._v("dotCloud 公司决定改名为 Docker"),s("OutboundLink")],1),t._v("。Docker 最初是在 Ubuntu 12.04 上开发实现的；Red Hat 则从 RHEL 6.5 开始对 Docker 进行支持；Google 也在其 PaaS 产品中广泛应用 Docker。")]),t._v(" "),s("p",[t._v("Docker 使用 Google 公司推出的 "),s("a",{attrs:{href:"https://golang.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Go 语言"),s("OutboundLink")],1),t._v(" 进行开发实现，基于 Linux 内核的 "),s("a",{attrs:{href:"https://zh.wikipedia.org/wiki/Cgroups",target:"_blank",rel:"noopener noreferrer"}},[t._v("cgroup"),s("OutboundLink")],1),t._v("，"),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Linux_namespaces",target:"_blank",rel:"noopener noreferrer"}},[t._v("namespace"),s("OutboundLink")],1),t._v("，以及 "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Aufs",target:"_blank",rel:"noopener noreferrer"}},[t._v("AUFS"),s("OutboundLink")],1),t._v(" 类的 "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Union_mount",target:"_blank",rel:"noopener noreferrer"}},[t._v("Union FS"),s("OutboundLink")],1),t._v(" 等技术，对进程进行封装隔离，属于 "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Operating-system-level_virtualization",target:"_blank",rel:"noopener noreferrer"}},[t._v("操作系统层面的虚拟化技术"),s("OutboundLink")],1),t._v("。由于隔离的进程独立于宿主和其它的隔离的进程，因此也称其为容器。最初实现是基于 "),s("a",{attrs:{href:"https://linuxcontainers.org/lxc/introduction/",target:"_blank",rel:"noopener noreferrer"}},[t._v("LXC"),s("OutboundLink")],1),t._v("，从 0.7 版本以后开始去除 LXC，转而使用自行开发的 "),s("a",{attrs:{href:"https://github.com/docker/libcontainer",target:"_blank",rel:"noopener noreferrer"}},[t._v("libcontainer"),s("OutboundLink")],1),t._v("，从 1.11 开始，则进一步演进为使用 "),s("a",{attrs:{href:"https://github.com/opencontainers/runc",target:"_blank",rel:"noopener noreferrer"}},[t._v("runC"),s("OutboundLink")],1),t._v(" 和 "),s("a",{attrs:{href:"https://github.com/containerd/containerd",target:"_blank",rel:"noopener noreferrer"}},[t._v("containerd"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("p",[t._v("Docker 在容器的基础上，进行了进一步的封装，从文件系统、网络互联到进程隔离等等，极大的简化了容器的创建和维护。使得 Docker 技术比虚拟机技术更为轻便、快捷。")]),t._v(" "),s("p",[t._v("下面的图片比较了 Docker 和传统虚拟化方式的不同之处。传统虚拟机技术是虚拟出一套硬件后，在其上运行一个完整操作系统，在该系统上再运行所需应用进程；而容器内的应用进程直接运行于宿主的内核，容器内没有自己的内核，而且也没有进行硬件虚拟。因此容器要比传统虚拟机更为轻便。")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),s("p",[t._v("作为一种新兴的虚拟化方式，Docker 跟传统的虚拟化方式相比具有众多的优势。")]),t._v(" "),t._m(7),t._v(" "),s("p",[t._v("由于容器不需要进行硬件虚拟以及运行完整操作系统等额外开销，Docker 对系统资源的利用率更高。无论是应用执行速度、内存损耗或者文件存储速度，都要比传统虚拟机技术更高效。因此，相比虚拟机技术，一个相同配置的主机，往往可以运行更多数量的应用。")]),t._v(" "),t._m(8),t._v(" "),s("p",[t._v("传统的虚拟机技术启动应用服务往往需要数分钟，而 Docker 容器应用，由于直接运行于宿主内核，无需启动完整的操作系统，因此可以做到秒级、甚至毫秒级的启动时间。大大的节约了开发、测试、部署的时间。")]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),s("p",[t._v("对开发和运维（"),s("a",{attrs:{href:"https://zh.wikipedia.org/wiki/DevOps",target:"_blank",rel:"noopener noreferrer"}},[t._v("DevOps"),s("OutboundLink")],1),t._v("）人员来说，最希望的就是一次创建或配置，可以在任意地方正常运行。")]),t._v(" "),s("p",[t._v("使用 Docker 可以通过定制应用镜像来实现持续集成、持续交付、部署。开发人员可以通过 "),s("code",[t._v("Dockerfile")]),t._v(" 来进行镜像构建，并结合 "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Continuous_integration",target:"_blank",rel:"noopener noreferrer"}},[t._v("持续集成(Continuous Integration)"),s("OutboundLink")],1),t._v(" 系统进行集成测试，而运维人员则可以直接在生产环境中快速部署该镜像，甚至结合 "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Continuous_delivery",target:"_blank",rel:"noopener noreferrer"}},[t._v("持续部署(Continuous Delivery/Deployment)"),s("OutboundLink")],1),t._v(" 系统进行自动部署。")]),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),s("p",[t._v("由于 Docker 确保了执行环境的一致性，使得应用的迁移更加容易。Docker 可以在很多平台上运行，无论是物理机、虚拟机、公有云、私有云，甚至是笔记本，其运行结果是一致的。因此用户可以很轻易的将在一个平台上运行的应用，迁移到另一个平台上，而不用担心运行环境的变化导致应用无法正常运行的情况。")]),t._v(" "),t._m(14),t._v(" "),s("p",[t._v("Docker 使用的分层存储以及镜像的技术，使得应用重复部分的复用更为容易，也使得应用的维护更新更加简单，基于基础镜像进一步扩展镜像也变得非常简单。此外，Docker 团队同各个开源项目团队一起维护了一大批高质量的 "),s("a",{attrs:{href:"https://store.docker.com/search?q=&source=verified&type=image",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方镜像"),s("OutboundLink")],1),t._v("，既可以直接在生产环境使用，又可以作为基础进一步定制，大大的降低了应用服务的镜像制作成本。")]),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._m(20),t._v(" "),s("p",[t._v("或是，直接安装")]),t._v(" "),t._m(21),t._m(22),t._v(" "),t._m(23),t._m(24),t._v(" "),t._m(25),s("p",[t._v("【意外情况】service docker start 无法启动问题")]),t._v(" "),s("ul",[t._m(26),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"http://www.cnblogs.com/ECJTUACM-873284962/p/9362840.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("【亲测有效】Centos安装完成docker后启动docker报错docker"),s("OutboundLink")],1)])])]),t._v(" "),t._m(27),t._v(" "),t._m(28),t._m(29),t._v(" "),t._m(30),t._m(31),t._v(" "),t._m(32),t._m(33),t._v(" "),s("ol",[s("li",[s("p",[t._v("加速器服务")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.daocloud.io/mirror",target:"_blank",rel:"noopener noreferrer"}},[t._v("DaoCloud 加速器，一行命令，镜像万千"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://dev.aliyun.com/search.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("阿里云 - 开发者平台 - 容器 hub"),s("OutboundLink")],1)])]),t._v(" "),t._m(34)]),t._v(" "),s("p",[t._v("以 Linux 为例")]),t._v(" "),t._m(35),s("p",[t._v("该脚本可以将 --registry-mirror 加入到你的 Docker 配置文件 /etc/docker/daemon.json 中。适用于 Ubuntu14.04、Debian、CentOS6 、CentOS7、Fedora、Arch Linux、openSUSE Leap 42.1，其他版本可能有细微不同。更多详情请访问文档。")]),t._v(" "),s("p",[t._v("删除 /etc/docker/daemon.json 中最后一个逗号，重启 Docker 服务即可")]),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),t._m(39),t._m(40),t._v(" "),t._m(41),t._m(42),t._v(" "),t._m(43),t._v(" "),t._m(44),t._m(45),t._v(" "),t._m(46),t._m(47),t._v(" "),t._m(48),t._m(49),t._v(" "),t._m(50),t._m(51),t._v(" "),t._m(52),t._m(53),t._v(" "),t._m(54),t._m(55),t._v(" "),t._m(56),t._m(57),t._v(" "),t._m(58),t._v(" "),t._m(59),t._m(60),t._v(" "),s("p",[t._v("保存镜像")]),t._v(" "),t._m(61),s("p",[t._v("加载镜像")]),t._v(" "),t._m(62),t._m(63),t._v(" "),t._m(64),t._v(" "),t._m(65),t._v(" "),s("p",[t._v("Docker-Compose 是一个部署多个容器的简单但是非常必要的工具.")]),t._v(" "),s("p",[t._v("安装 Docker-Compose 之前，请先安装 python-pip")]),t._v(" "),t._m(66),t._v(" "),t._m(67),t._v(" "),t._m(68),t._m(69),t._v(" "),t._m(70),t._m(71),t._v(" "),t._m(72),t._m(73),t._v(" "),t._m(74),t._m(75),t._v(" "),t._m(76),t._v(" "),t._m(77),t._m(78),t._v(" "),t._m(79),s("p",[t._v("参考资料：")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.cnblogs.com/YatHo/p/7815400.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("CentOS7下安装Docker-Compose - YatHo - 博客园"),s("OutboundLink")],1)])]),t._v(" "),t._m(80),t._v(" "),t._m(81),t._v(" "),t._m(82),t._v(" "),s("ul",[s("li",[s("p",[t._v("官方镜像仓库")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://hub.docker.com/_/mysql/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://hub.docker.com/_/mysql/"),s("OutboundLink")],1)])]),t._v(" "),t._m(83)]),t._v(" "),t._m(84),t._m(85),t._v(" "),t._m(86),t._v(" "),t._m(87),t._m(88),t._v(" "),s("p",[t._v("GitLab 使用163邮箱发送邮件 - 刘锐群的笔记 - CSDN博客\nhttps://blog.csdn.net/liuruiqun/article/details/50000213")]),t._v(" "),s("p",[t._v("gitlab服务器邮箱配置 - weifengCorp - 博客园\nhttps://www.cnblogs.com/weifeng1463/p/8489563.html")]),t._v(" "),s("p",[t._v("twang2218/gitlab-ce-zh - Docker Hub\nhttps://hub.docker.com/r/twang2218/gitlab-ce-zh/")]),t._v(" "),t._m(89),t._m(90),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://my-fe.pub/post/docker-front-and-backend-separation.html#toc-619",target:"_blank",rel:"noopener noreferrer"}},[t._v("docker前后分离笔记 - 小翼的前端天地"),s("OutboundLink")],1)])])])},[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"#%E4%B8%80docker-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"}},[t._v("一、Docker 快速入门")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E5%88%9D%E6%8E%A2-docker"}},[t._v("初探 Docker")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E4%BB%80%E4%B9%88%E6%98%AF-docker"}},[t._v("什么是 Docker")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8-docker"}},[t._v("为什么要使用 Docker")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#centos-7-%E5%AE%89%E8%A3%85-docker"}},[t._v("CentOS 7 安装 Docker")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#docker-%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F%E5%99%A8"}},[t._v("Docker 镜像加速器")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#docker-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"}},[t._v("Docker 常用命令")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#1-%E5%90%AF%E5%8A%A8%E5%81%9C%E6%AD%A2%E9%87%8D%E5%90%AF%E6%9C%8D%E5%8A%A1"}},[t._v("1. 启动、停止、重启服务")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#2-%E6%8B%89%E5%8F%96%E4%B8%80%E4%B8%AA%E9%95%9C%E5%83%8F%E5%90%AF%E5%8A%A8%E5%AE%B9%E5%99%A8"}},[t._v("2. 拉取一个镜像，启动容器")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#3-%E5%90%AF%E5%8A%A8%E7%9A%84%E5%AE%B9%E5%99%A8%E5%88%97%E8%A1%A8"}},[t._v("3. 启动的容器列表")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#4-%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E7%9A%84%E5%AE%B9%E5%99%A8"}},[t._v("4. 查看所有的容器")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#5-%E5%90%AF%E5%8A%A8%E5%81%9C%E6%AD%A2%E9%87%8D%E5%90%AF%E6%9F%90%E4%B8%AA%E5%AE%B9%E5%99%A8"}},[t._v("5. 启动、停止、重启某个容器")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#6-%E6%9F%A5%E7%9C%8B%E6%8C%87%E5%AE%9A%E5%AE%B9%E5%99%A8%E7%9A%84%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95"}},[t._v("6. 查看指定容器的日志记录")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#7-%E5%88%A0%E9%99%A4%E6%9F%90%E4%B8%AA%E5%AE%B9%E5%99%A8%E8%8B%A5%E6%AD%A3%E5%9C%A8%E8%BF%90%E8%A1%8C%E9%9C%80%E8%A6%81%E5%85%88%E5%81%9C%E6%AD%A2"}},[t._v("7. 删除某个容器，若正在运行，需要先停止")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#8-%E5%88%A0%E9%99%A4%E5%AE%B9%E5%99%A8"}},[t._v("8. 删除容器")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#9-%E5%88%A0%E9%99%A4%E9%95%9C%E5%83%8F"}},[t._v("9. 删除镜像")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#10-%E5%88%A0%E9%99%A4%E8%99%9A%E6%82%AC%E9%95%9C%E5%83%8F"}},[t._v("10. 删除虚悬镜像")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#11-%E9%95%9C%E5%83%8F%E5%AF%BC%E5%85%A5%E4%B8%8E%E5%AF%BC%E5%87%BA"}},[t._v("11. 镜像导入与导出")])])])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E4%BA%8Cdocker-file-%E9%95%9C%E5%83%8F%E6%9E%84%E5%BB%BA"}},[t._v("二、Docker File 镜像构建")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E4%B8%89docker-compose"}},[t._v("三、Docker Compose")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#docker-compose-%E5%91%BD%E4%BB%A4%E5%AE%89%E8%A3%85"}},[t._v("docker-compose 命令安装")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#1-%E5%AE%89%E8%A3%85-python-pip"}},[t._v("1. 安装 python-pip")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#2-%E5%AE%89%E8%A3%85-docker-compose"}},[t._v("2. 安装 Docker-Compose")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#docker-composeyml-%E8%A7%84%E8%8C%83"}},[t._v("docker-compose.yml 规范")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E5%9B%9Bdocker-%E5%AE%9E%E6%88%98"}},[t._v("四、Docker 实战")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E5%AE%9E%E6%88%981%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-mysql"}},[t._v("实战1：快速搭建 MySQL")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E5%AE%9E%E6%88%982%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-phpmyadmin"}},[t._v("实战2：快速搭建 phpMyAdmin")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E5%AE%9E%E6%88%983%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-gitlab"}},[t._v("实战3：快速搭建 GitLab")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"}},[t._v("参考资料")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"一、docker-快速入门"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、docker-快速入门","aria-hidden":"true"}},[this._v("#")]),this._v(" 一、Docker 快速入门")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"初探-docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#初探-docker","aria-hidden":"true"}},[this._v("#")]),this._v(" 初探 Docker")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"什么是-docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是-docker","aria-hidden":"true"}},[this._v("#")]),this._v(" 什么是 Docker")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"assets/VMs-and-Containers.jpg",alt:"img"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"为什么要使用-docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为什么要使用-docker","aria-hidden":"true"}},[this._v("#")]),this._v(" 为什么要使用 Docker")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"assets/docker-architecture.png",alt:"Docker architecture"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("更高效的利用系统资源")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("更快速的启动时间")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("一致的运行环境")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("开发过程中一个常见的问题是环境一致性问题。由于开发环境、测试环境、生产环境不一致，导致有些 bug 并未在开发过程中被发现。而 Docker 的镜像提供了除内核外完整的运行时环境，确保了应用运行环境一致性，从而不会再出现 "),e("em",[this._v("「这段代码在我机器上没问题啊」")]),this._v(" 这类问题。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("持续交付和部署")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("而且使用 "),e("code",[this._v("Dockerfile")]),this._v(" 使镜像构建透明化，不仅仅开发团队可以理解应用运行环境，也方便运维团队理解应用运行所需条件，帮助更好的生产环境中部署该镜像。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("更轻松的迁移")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("更轻松的维护和扩展")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("对比传统虚拟机总结")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",[t._v("特性")]),t._v(" "),s("th",[t._v("容器")]),t._v(" "),s("th",[t._v("虚拟机")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("启动")]),t._v(" "),s("td",[t._v("秒级")]),t._v(" "),s("td",[t._v("分钟级")])]),t._v(" "),s("tr",[s("td",[t._v("硬盘使用")]),t._v(" "),s("td",[t._v("一般为 "),s("code",[t._v("MB")])]),t._v(" "),s("td",[t._v("一般为 "),s("code",[t._v("GB")])])]),t._v(" "),s("tr",[s("td",[t._v("性能")]),t._v(" "),s("td",[t._v("接近原生")]),t._v(" "),s("td",[t._v("弱于")])]),t._v(" "),s("tr",[s("td",[t._v("系统支持量")]),t._v(" "),s("td",[t._v("单机支持上千个容器")]),t._v(" "),s("td",[t._v("一般几十个")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"centos-7-安装-docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#centos-7-安装-docker","aria-hidden":"true"}},[this._v("#")]),this._v(" CentOS 7 安装 Docker")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("先更新 yum 软件管理器，然后再安装 Docker")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost /"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" yum -y update\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost /"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y docker\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("说明：上述 "),e("code",[this._v("-y")]),this._v(" 代表选择程序安装中的 yes 选项")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[this._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" docker\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("验证安装，查看 Docker 版本信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@localhost /"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),this._v(" docker -v\nDocker version 1.13.1, build 8633870/1.13.1\nYou have new mail "),e("span",{pre:!0,attrs:{class:"token keyword"}},[this._v("in")]),this._v(" /var/spool/mail/root\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("启动 / 重启 / 关闭 Docker")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost /"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" docker start\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost /"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" docker restart\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost /"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" docker stop\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("centos 安装 docker 显示 No package docker available，原因是 yum 没有找到 docker 的包，需要 epel 第三方软件库，运行下面的命令")]),this._v(" "),e("p",[e("code",[this._v("sudo yum install epel-release")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[e("p",[this._v("配置yum源")]),this._v(" "),e("p",[this._v("vim /etc/yum.repos.d/docker.repo")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[dockerrepo]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("Docker Repository")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("baseurl")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("https://yum.dockerproject.org/repo/main/centos/$releasever/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("enabled")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("gpgcheck")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("gpgkey")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("https://yum.dockerproject.org/gpg")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("通过yum安装")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install docker-engine\nservice docker start\nservice docker status\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("日志")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("vim /var/log/docker\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"docker-镜像加速器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-镜像加速器","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 镜像加速器")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("配置 Docker 加速器")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("curl")]),this._v(" -sSL https://get.daocloud.io/daotools/set_mirror.sh "),e("span",{pre:!0,attrs:{class:"token operator"}},[this._v("|")]),this._v(" sh -s http://f1361db2.m.daocloud.io\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"docker-常用命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-常用命令","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 常用命令")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"assets/docker-cmd.png",alt:"docker-cmd"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_1-启动、停止、重启服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-启动、停止、重启服务","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. 启动、停止、重启服务")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# service docker restart")]),t._v("\nRedirecting to /bin/systemctl restart docker.service\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# service docker stop")]),t._v("\nRedirecting to /bin/systemctl stop docker.service\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# service docker start")]),t._v("\nRedirecting to /bin/systemctl start docker.service\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_2-拉取一个镜像，启动容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-拉取一个镜像，启动容器","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. 拉取一个镜像，启动容器")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker pull centos")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker run -it -v /centos_dir:/docker_dir --name biodwhu-1 centos")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("p",[t._v("-i：允许我们对容器内的 (STDIN) 进行交互")])]),t._v(" "),s("li",[s("p",[t._v("-t：在新容器内指定一个伪终端或终端")])]),t._v(" "),s("li",[s("p",[t._v("-v：是挂在宿机目录， /centos_dir 是宿机目录，/docker_dir 是当前 Docker 容器的目录，宿机目录必须是绝对的。")])]),t._v(" "),s("li",[s("p",[t._v("-p：端口映射")])]),t._v(" "),s("li",[s("p",[t._v("--name：是给容器起一个名字，可省略，省略的话 docker 会随机产生一个名字")])]),t._v(" "),s("li",[s("p",[t._v("--restart：always")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_3-启动的容器列表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-启动的容器列表","aria-hidden":"true"}},[this._v("#")]),this._v(" 3. 启动的容器列表")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# docker ps")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_4-查看所有的容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-查看所有的容器","aria-hidden":"true"}},[this._v("#")]),this._v(" 4. 查看所有的容器")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# docker ps -a")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_5-启动、停止、重启某个容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-启动、停止、重启某个容器","aria-hidden":"true"}},[this._v("#")]),this._v(" 5. 启动、停止、重启某个容器")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker start biodwhu-1")]),t._v("\nbiodwhu-1\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker stop biodwhu-2")]),t._v("\nbiodwhu-2\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker restart biodwhu-3")]),t._v("\nbiodwhu-3\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_6-查看指定容器的日志记录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-查看指定容器的日志记录","aria-hidden":"true"}},[this._v("#")]),this._v(" 6. 查看指定容器的日志记录")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# docker logs -f biodwhu-1")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_7-删除某个容器，若正在运行，需要先停止"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-删除某个容器，若正在运行，需要先停止","aria-hidden":"true"}},[this._v("#")]),this._v(" 7. 删除某个容器，若正在运行，需要先停止")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker rm biodwhu-1")]),t._v("\nError response from daemon: You cannot remove a running container 2d48fc5b7c17b01e6247cbc012013306faf1e54f24651d5e16d6db4e15f92d33. Stop the container before attempting removal or use -f\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker stop biodwhu-1")]),t._v("\nbiodwhu-1\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker rm biodwhu-1")]),t._v("\nbiodwhu-1\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_8-删除容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8-删除容器","aria-hidden":"true"}},[this._v("#")]),this._v(" 8. 删除容器")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除某个容器")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker rm f3b346204a39")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除所有容器")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker stop $(docker ps -a -q)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker rm $(docker ps -a -q)")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_9-删除镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_9-删除镜像","aria-hidden":"true"}},[this._v("#")]),this._v(" 9. 删除镜像")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除某个镜像")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker rmi docker.io/mysql:5.6")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除所有镜像")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker rmi $(docker images -q)")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 强制删除所有镜像")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker rmi -f $(docker images -q)")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_10-删除虚悬镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_10-删除虚悬镜像","aria-hidden":"true"}},[this._v("#")]),this._v(" 10. 删除虚悬镜像")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("我们在 build 镜像的过程中，可能会产生一些临时的不具有名称也没有作用的镜像他们的名称一般都是 "),e("code",[this._v("<none>")]),this._v(" ,我们可以执行下面的命令将其清除掉：")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# docker rmi $(docker images -f "dangling=true" -q)')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或者")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker image prune -a -f")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_11-镜像导入与导出"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_11-镜像导入与导出","aria-hidden":"true"}},[this._v("#")]),this._v(" 11. 镜像导入与导出")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# docker save a46c2a2722b9 > /var/docker/images_save/mysql.tar.gz")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# docker load -i /var/docker/images_save/mysql.tar.gz")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"二、docker-file-镜像构建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、docker-file-镜像构建","aria-hidden":"true"}},[this._v("#")]),this._v(" 二、Docker File 镜像构建")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"三、docker-compose"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、docker-compose","aria-hidden":"true"}},[this._v("#")]),this._v(" 三、Docker Compose")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"docker-compose-命令安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose-命令安装","aria-hidden":"true"}},[this._v("#")]),this._v(" docker-compose 命令安装")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_1-安装-python-pip"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装-python-pip","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. 安装 python-pip")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("首先检查 Linux 有没有安装 python-pip 包，终端执行 pip -v")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# pip -V")]),this._v("\n-bash: pip: "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("command")]),this._v(" not found\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("没有 python-pip 包就执行命令")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# yum -y install epel-release")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("执行成功之后，再次执行")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# yum -y install python-pip")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("对安装好的 pip 进行升级")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# pip install --upgrade pip")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_2-安装-docker-compose"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装-docker-compose","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. 安装 Docker-Compose")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("终端执行")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# pip install docker-compose")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("检查 docker-compose 安装")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# docker-compose -version")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"docker-compose-yml-规范"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose-yml-规范","aria-hidden":"true"}},[this._v("#")]),this._v(" docker-compose.yml 规范")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"四、docker-实战"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四、docker-实战","aria-hidden":"true"}},[this._v("#")]),this._v(" 四、Docker 实战")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"实战1：快速搭建-mysql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实战1：快速搭建-mysql","aria-hidden":"true"}},[this._v("#")]),this._v(" 实战1：快速搭建 MySQL")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("docker-compose.yml")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-yml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("version: '3.1'\nservices:\n  mysql:\n    restart: always\n    image: mysql:5.6\n    container_name: mysql\n    ports:\n      - 3306:3306\n    environment:\n      TZ: Asia/Shanghai\n      MYSQL_ROOT_PASSWORD: 123456\n    command:\n      --character-set-server=utf8mb4\n      --collation-server=utf8mb4_general_ci\n      --explicit_defaults_for_timestamp=true\n      --lower_case_table_names=1\n      --max_allowed_packet=128M\n      --sql-mode=\"STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION,NO_ZERO_DATE,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO\"\n    volumes:\n      - /usr/local/docker/mysql/mysql-data:/var/lib/mysql\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"实战2：快速搭建-phpmyadmin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实战2：快速搭建-phpmyadmin","aria-hidden":"true"}},[this._v("#")]),this._v(" 实战2：快速搭建 phpMyAdmin")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("p",[this._v("官方镜像仓库")]),this._v(" "),e("p",[e("a",{attrs:{href:"phpmyadmin/phpmyadmin"}},[this._v("phpmyadmin/phpmyadmin")])])]),this._v(" "),e("li",[e("p",[this._v("docker-compose.yml")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-yml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("version: '3.1'\nservices:\n  phpmyadmin:\n    image: phpmyadmin/phpmyadmin\n    container_name: phpmyadmin\n    environment:\n     - PMA_ARBITRARY=1\n     - PMA_HOST=120.92.17.12\n    # - PMA_PORT=3306\n    # - PMA_USER=xxx\n    # - PMA_PASSWORD=xxx\n    restart: always\n    ports:\n     - 6060:80\n    volumes:\n     - /sessions\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"实战3：快速搭建-gitlab"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实战3：快速搭建-gitlab","aria-hidden":"true"}},[this._v("#")]),this._v(" 实战3：快速搭建 GitLab")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-yml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("version: '3'\nservices:\n    web:\n      image: 'twang2218/gitlab-ce-zh:10.5'\n      restart: always\n      hostname: '120.131.11.187'\n      environment:\n        TZ: 'Asia/Shanghai'\n        GITLAB_OMNIBUS_CONFIG: |\n          external_url 'http://120.131.11.187:3000'\n          gitlab_rails['gitlab_shell_ssh_port'] = 2222\n          unicorn['port'] = 8888\n          nginx['listen_port'] = 3000\n      ports:\n        - '3000:3000'\n        - '8443:443'\n        - '2222:22'\n      volumes:\n        - /usr/local/docker/gitlab/config:/etc/gitlab\n        - /usr/local/docker/gitlab/data:/var/opt/gitlab\n        - /usr/local/docker/gitlab/logs:/var/log/gitlab\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"参考资料"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考资料","aria-hidden":"true"}},[this._v("#")]),this._v(" 参考资料")])}],!1,null,null,null);a.options.__file="Docker基础.md";e.default=a.exports}}]);