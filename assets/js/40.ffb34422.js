(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{268:function(t,s,e){"use strict";e.r(s);var a=e(0),r=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),e("p",[t._v("在很多场景下内网穿透都是我们常常遇到的需求，之前也用过花生壳、ngrok、FRP 等等一些工具，但是由于限速、收费、安全各方面因素只好放弃了。")]),t._v(" "),e("p",[t._v("目前所在实验室主要从事深度学习和机器学习相关工作，有一台高配 GPU 计算型服务器，大家使用 Jupyter Notebook 在网页上进行编码工作，但是只能在学院内网才能进行使用，在外面就无法使用让人比较抓狂。如果购买阿里云等深度学习服务，价格昂贵，只好决定通过内网穿透实现公网工作。")]),t._v(" "),e("p",[t._v("近期无意间看到 "),e("a",{attrs:{href:"https://github.com/ffay/lanproxy",target:"_blank",rel:"noopener noreferrer"}},[t._v("「传送门：lanproxy」"),e("OutboundLink")],1),t._v(" 这款开源工具，正好实验室购置了一台公网服务器，正好可以实现内网穿透，决定入坑折腾一番。对于有后台开发基础的同学还是挺简单的，不过好记性不如烂笔头，来吧，这里手把手深入探索一番。")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),e("p",[t._v("好吧，先上一段百度百科的定义")]),t._v(" "),t._m(4),t._v(" "),e("p",[t._v("反正简单来说，就是能通过公网访问你的内网服务，把你的内网通过一台公网服务器，穿透出去。")]),t._v(" "),t._m(5),t._v(" "),e("p",[t._v("lanproxy 是一个将局域网个人电脑、服务器代理到公网的内网穿透工具，目前仅支持 tcp 流量转发，可支持任何 tcp 上层协议（访问内网网站、本地支付接口调试、ssh 访问、远程桌面...）。目前市面上提供类似服务的有花生壳、TeamView、GoToMyCloud 等等，但要使用第三方的公网服务器就必须为第三方付费，并且这些服务都有各种各样的限制，此外，由于数据包会流经第三方，因此对数据安全也是一大隐患。"),e("a",{attrs:{href:"https://lanproxy.io2c.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://lanproxy.io2c.com"),e("OutboundLink")],1)]),t._v(" "),t._m(6),t._v(" "),e("p",[t._v("内网穿透的原理如下图所示：")]),t._v(" "),t._m(7),t._v(" "),e("p",[t._v("要搭建内网穿透，我们得完成两个任务")]),t._v(" "),t._m(8),t._v(" "),e("p",[t._v("当然，你可以自己根据原理实现一套，不过我们有现成的三方开源工具，可以帮我们实现这一套功能。这个就是我们今天的主角 "),e("a",{attrs:{href:"https://github.com/ffay/lanproxy",target:"_blank",rel:"noopener noreferrer"}},[t._v("lanproxy"),e("OutboundLink")],1),t._v("。")]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._m(18),t._v(" "),t._m(19),e("ul",[e("li",[t._v("更多配置请参考："),e("a",{attrs:{href:"https://blog.csdn.net/u012486840/article/details/52610320",target:"_blank",rel:"noopener noreferrer"}},[t._v("CentOS 7 yum 安装 Nginx - 菜鸟路上的小白 - CSDN博客"),e("OutboundLink")],1)])]),t._v(" "),t._m(20),t._v(" "),e("p",[t._v("启动 Docker 后运行一下代码")]),t._v(" "),t._m(21),e("p",[t._v("输入你的公网服务器 IP:8090，例如：http://120.92.10.120:8090/，即可看到如下的界面。好啦，到这里 lanproxy 的基础环境已经搭建成功，是不是很快，这就是 docker 的魅力。如果不用 docker 启动，请参考 lanproxy 的官方文档。")]),t._v(" "),t._m(22),t._v(" "),e("p",[t._v("默认：account/password：admin/admin")]),t._v(" "),t._m(23),t._v(" "),e("p",[t._v("在上一步，我们通过 docker 启动了一个 lanproxy 环境，但是通过 IP 和端口号组合的方式并不优雅。这里我将解析两个域名通过 Nginx 进行端口转发。")]),t._v(" "),t._m(24),e("p",[t._v("好啦，上门就是对域名进行了一些简单的解释，现在开始 Nginx 的配置")]),t._v(" "),t._m(25),t._v(" "),t._m(26),t._m(27),t._v(" "),t._m(28),t._m(29),t._v(" "),t._m(30),e("p",[t._v("至此，你可以通过域名 http://lanproxy.frankfeekr.cn 进行访问 lanproxy 网页后台配置")]),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),e("p",[t._v("至此，服务端的配置就完成了。下面开始内网电脑的配置。")]),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),t._m(40),t._m(41),t._v(" "),t._m(42),t._m(43),t._v(" "),t._m(44),e("p",[t._v("​\t环境设置")]),t._v(" "),t._m(45),e("p",[t._v("​\t执行命令使修改立即生效")]),t._v(" "),t._m(46),t._m(47),t._v(" "),t._m(48),t._m(49),t._v(" "),t._m(50),e("p",[t._v("更详细文档：")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://blog.csdn.net/smile_from_2015/article/details/80056297",target:"_blank",rel:"noopener noreferrer"}},[t._v("ubuntu16.04搭建jdk1.8运行环境 - 朝花夕拾 - CSDN博客"),e("OutboundLink")],1)])]),t._v(" "),t._m(51),t._v(" "),e("p",[t._v("maven 是个项目管理工具，在编程领域应用广泛。")]),t._v(" "),e("ol",[e("li",[e("a",{attrs:{href:"http://maven.apache.org/download.cgi",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),e("OutboundLink")],1),t._v(" 下载maven。")])]),t._v(" "),t._m(52),t._v(" "),t._m(53),t._m(54),t._v(" "),e("p",[t._v("创建 manve 目录。")]),t._v(" "),t._m(55),e("p",[t._v("解压到 /opt/maven 目录下。")]),t._v(" "),t._m(56),t._m(57),t._v(" "),t._m(58),e("p",[t._v("在文件内容后面添加以下内容：")]),t._v(" "),t._m(59),e("p",[t._v("保存，输入以下命令使配置文件生效。")]),t._v(" "),t._m(60),e("p",[t._v("验证是否安装成功。")]),t._v(" "),t._m(61),t._m(62),t._v(" "),e("p",[t._v("打开 maven 的配置文件")]),t._v(" "),t._m(63),e("p",[t._v("在 /home 目录下生成 maven/repository 文件夹")]),t._v(" "),t._m(64),t._v(" "),t._m(65),e("p",[t._v("修改源")]),t._v(" "),t._m(66),t._v(" "),t._m(67),e("p",[t._v("至此，Maven 安装成功")]),t._v(" "),e("p",[t._v("参考资料：")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://blog.csdn.net/qq_24091555/article/details/76039475",target:"_blank",rel:"noopener noreferrer"}},[t._v("ubuntu16.04安装maven - Rocky的编程随记 - CSDN博客"),e("OutboundLink")],1)])]),t._v(" "),t._m(68),t._v(" "),e("p",[t._v("在前面我们将 jupyter.frankfeekr.cn 反向代理（公网服务器 9000 服务，内网 5050）")]),t._v(" "),t._m(69),t._v(" "),e("p",[t._v("这里我们需要确保在内网电脑上，浏览器能够访问到 127.0.0.1:5050 这个服务。以我的 jupyter notebook 为例：")]),t._v(" "),t._m(70),t._v(" "),e("p",[t._v("这里，我的内网服务已经启动。接下来只需要启动 lanproxy 客户端即可。")]),t._v(" "),t._m(71),t._v(" "),e("p",[t._v("官方提供了两种方式运行客户端，一种方式是使用官方提供的 GO，另一种通过 Java 环境运行。本文采用主流的 Java 方式运行")]),t._v(" "),t._m(72),t._v(" "),t._m(73),t._m(74),t._v(" "),t._m(75),t._m(76),t._v(" "),t._m(77),t._m(78),t._v(" "),t._m(79),t._m(80),t._v(" "),t._m(81),t._v(" "),e("p",[t._v("当然你也可以通过公网 IP 和域名访问，例如：http://120.92.10.120:9000 这种方式访问！")]),t._v(" "),t._m(82),t._v(" "),t._m(83),t._m(84),t._v(" "),e("p",[t._v("客户端启动服务后，后台可查看状态（在线 / 离线）")]),t._v(" "),t._m(85),t._v(" "),e("p",[t._v("流量统计")]),t._v(" "),t._m(86),t._v(" "),t._m(87),t._v(" "),e("p",[t._v("GitHub 客户端主页："),e("a",{attrs:{href:"https://github.com/ffay/lanproxy-go-client",target:"_blank",rel:"noopener noreferrer"}},[t._v("lanproxy-go-client"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("不想安装 Java 环境的可以选择 Go")]),t._v(" "),t._m(88),t._v(" "),t._m(89),t._v(" "),e("p",[t._v("基于 Debian的 Linux 发行版本都可以使用 apt-get 命令来进行安装：")]),t._v(" "),t._m(90),e("p",[t._v("要查看当前系统安装的 Go 语言版本可以使用如下命令：")]),t._v(" "),t._m(91),t._m(92),t._v(" "),t._m(93),e("p",[t._v("根据不同的需要，我们可以使用 apt-get 安装 Go tools：")]),t._v(" "),t._m(94),t._m(95),t._v(" "),e("p",[t._v("基于 Red Hat 的 Linux 发行版本都可以使用 yum 命令来进行安装：")]),t._v(" "),t._m(96),e("p",[t._v("要查看当前系统安装的 Go 语言版本可以使用如下命令：")]),t._v(" "),t._m(97),e("p",[t._v("接下来还是在 Home 目录(例如 ~/workspace)创建一个 workspace 目录并定义 GOPATH 环境变量指向该目录，这个目录将被 Go 工具用于保存和编辑二进制文件。")]),t._v(" "),t._m(98),e("p",[t._v("根据不同的需要，我们可以使用 yum 安装 Go tools：")]),t._v(" "),t._m(99),e("p",[t._v("参考资料："),e("a",{attrs:{href:"https://studygolang.com/articles/7482",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何为Linux安装Go语言 - Go语言中文网 - Golang中文社区"),e("OutboundLink")],1)]),t._v(" "),t._m(100),t._v(" "),t._m(101),t._m(102),t._v(" "),t._m(103),e("p",[t._v("安装后，这时候在目录下会出现文件。")]),t._v(" "),t._m(104),t._v(" "),t._m(105),t._v(" "),t._m(106),t._m(107),t._v(" "),t._m(108),e("p",[t._v("例如：")]),t._v(" "),t._m(109),e("p",[t._v("命令参数：")]),t._v(" "),t._m(110),t._m(111),t._v(" "),e("p",[t._v("通过以上的配置，只要有一台公网电脑，即可实现内网穿透功能。摆脱花生壳的域名端口限制，流量限制，带宽限制。笔者的公网服务器为 6M 带宽，通过公网映射，文件下载测试大概在 800K/s - 1.5M/s 范围，如果仅是普通的网站服务完全可以完美穿透。")]),t._v(" "),t._m(112),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.fengqiangboy.com/15229403526064.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("基于docker搭建lanproxy内网穿透服务 - 奉强的个人博客"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/fengqiangboy/lanproxy-docker",target:"_blank",rel:"noopener noreferrer"}},[t._v("lanproxy GitHub 官方主页"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.cnblogs.com/ssooking/p/6094740.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("linux设置开机自启动 - ssooking - 博客园"),e("OutboundLink")],1)])])])},[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[e("a",{attrs:{href:"#%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E6%90%AD%E5%BB%BA%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%9C%8D%E5%8A%A1"}},[t._v("手把手教你，搭建内网穿透服务")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E4%B8%80%E6%A6%82%E8%BF%B0"}},[t._v("一、概述")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#11-%E4%BB%80%E4%B9%88%E6%98%AF%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F"}},[t._v("1.1 什么是内网穿透")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#12-%E4%BB%80%E4%B9%88%E6%98%AF-lanproxy"}},[t._v("1.2 什么是 lanproxy")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#13-%E5%8E%9F%E7%90%86"}},[t._v("1.3 原理")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%E4%BA%8C%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B"}},[t._v("二、快速开始")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#21-%E7%A1%AC%E4%BB%B6%E4%B8%8E%E7%8E%AF%E5%A2%83%E8%A6%81%E6%B1%82"}},[t._v("2.1 硬件与环境要求")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#22-%E5%85%AC%E7%BD%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AEdocker-%E4%B8%80%E9%94%AE%E5%90%AF%E5%8A%A8"}},[t._v("2.2 公网服务器配置（Docker 一键启动）")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85"}},[t._v("基础环境安装")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%E9%80%9A%E8%BF%87-docker%E5%90%AF%E5%8A%A8-lanproxy-%E6%9C%8D%E5%8A%A1"}},[t._v("通过 Docker，启动 lanproxy 服务")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#nginx-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E9%85%8D%E7%BD%AE%E5%9F%9F%E5%90%8D"}},[t._v("Nginx 反向代理配置域名")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%E7%BB%A7%E7%BB%AD%E9%85%8D%E7%BD%AE-lanproxy-%E5%90%8E%E5%8F%B0%E6%9C%8D%E5%8A%A1"}},[t._v("继续配置 lanproxy 后台服务")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#23-%E5%86%85%E7%BD%91%E7%94%B5%E8%84%91%E9%85%8D%E7%BD%AEjava-%E5%AE%A2%E6%88%B7%E7%AB%AF"}},[t._v("2.3 内网电脑配置（Java 客户端）")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#java-18-%E5%AE%89%E8%A3%85"}},[t._v("Java 1.8 安装")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#maven-%E5%AE%89%E8%A3%85"}},[t._v("maven 安装")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%E5%90%AF%E5%8A%A8%E5%86%85%E7%BD%91%E6%9C%8D%E5%8A%A1"}},[t._v("启动内网服务")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%E8%BF%90%E8%A1%8C-lanproxy-client-%E6%9C%8D%E5%8A%A1"}},[t._v("运行 lanproxy client 服务")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#lanproxy-%E7%BD%91%E9%A1%B5%E5%90%8E%E5%8F%B0%E6%9C%8D%E5%8A%A1"}},[t._v("lanproxy 网页后台服务")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#24-%E5%86%85%E7%BD%91%E7%94%B5%E8%84%91%E9%85%8D%E7%BD%AEgo-%E5%AE%A2%E6%88%B7%E7%AB%AF"}},[t._v("2.4 内网电脑配置（GO 客户端）")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E5%AE%89%E8%A3%85go%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85"}},[t._v("安装Go环境安装")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%E6%8B%89%E5%8F%96-ffaylanproxy-go-client-%E4%BB%A3%E7%A0%81"}},[t._v("拉取 ffay/lanproxy-go-client 代码")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%E5%AE%89%E8%A3%85%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BE%9D%E8%B5%96%E5%8C%85"}},[t._v("安装客户端依赖包")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%E5%90%AF%E5%8A%A8%E5%AE%A2%E6%88%B7%E7%AB%AF"}},[t._v("启动客户端")])])])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%E4%B8%89%E6%80%BB%E7%BB%93"}},[t._v("三、总结")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"}},[t._v("参考资料")])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"手把手教你，搭建内网穿透服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#手把手教你，搭建内网穿透服务","aria-hidden":"true"}},[this._v("#")]),this._v(" 手把手教你，搭建内网穿透服务")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"一、概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、概述","aria-hidden":"true"}},[this._v("#")]),this._v(" 一、概述")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-1-什么是内网穿透"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-什么是内网穿透","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.1 什么是内网穿透")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("内网穿透，即NAT穿透，网络连接时术语，计算机是局域网内时，外网与内网的计算机节点需要连接通信，有时就会出现不支持内网穿透。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-2-什么是-lanproxy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-什么是-lanproxy","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.2 什么是 lanproxy")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-3-原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-原理","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.3 原理")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ol",[e("li",[e("p",[t._v("用户访问我们的服务器，这个服务器是有公网IP的，所以用户可以无压力访问")])]),t._v(" "),e("li",[e("p",[t._v("服务器与本地电脑保持长链接，当有请求的时候，服务器将请求转发到我们的本地电脑")])]),t._v(" "),e("li",[e("p",[t._v("本地电脑将响应回复给服务器")])]),t._v(" "),e("li",[e("p",[t._v("服务器将响应回复给用户")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("img",{attrs:{src:"assets/15229416333639.jpg",width:"300"}})])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("在公网能访问的服务器上运行我们的内网穿透服务；")]),this._v(" "),s("li",[this._v("在本地电脑上面运行内网穿透客户端。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"二、快速开始"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、快速开始","aria-hidden":"true"}},[this._v("#")]),this._v(" 二、快速开始")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("这里我将手把手带你配置 lanproxy 穿透服务，这里配置主要分成了 "),s("strong",[this._v("公网服务器配置")]),this._v(" 和 "),s("strong",[this._v("内网电脑配置")]),this._v(" 。")]),this._v(" "),s("p",[this._v("在内网电脑配置中分为：Java 客户端和 GO 客户端")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-1-硬件与环境要求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-硬件与环境要求","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.1 硬件与环境要求")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("这里以我的环境为例")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ol",[e("li",[e("strong",[t._v("一台公网服务器")]),t._v("（Centos 7.4，当然这不重要，反正都 docker 啦）\n"),e("ul",[e("li",[t._v("docker（简化更多的配置，这里采用 docker 容器进行搭建）")]),t._v(" "),e("li",[t._v("Nginx 环境")])])]),t._v(" "),e("li",[e("strong",[t._v("一台内网电脑")]),t._v("（Ubuntu 16.04）\n"),e("ul",[e("li",[t._v("Java JDK 1.8")]),t._v(" "),e("li",[t._v("Maven（包依赖管理工具）")]),t._v(" "),e("li",[t._v("docker 启动服务，tensorflow（jupyter notebook）")])])]),t._v(" "),e("li",[e("strong",[t._v("已备案的域名")]),t._v(" "),e("ul",[e("li",[t._v("此步骤也可省略，但端口太多通过 Nginx 配合域名进行转发，使用更加方便。故这里我也将会配置两个公网域名")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-2-公网服务器配置（docker-一键启动）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-公网服务器配置（docker-一键启动）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.2 公网服务器配置（Docker 一键启动）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"基础环境安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基础环境安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 基础环境安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("安装 docker 服务，以 CentOS 7.4 为例")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("1、安装依赖包\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y yum-utils  device-mapper-persistent-data  lvm2\n\n2、设置稳定版仓库\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum-config-manager   --add-repo  https://download.docker.com/linux/centos/docker-ce.repo\n\n3、安装\n//安装最新版本\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" docker-ce\n\n//或者安装指定版本\n$ yum list docker-ce --showduplicates "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),t._v(" -r\n    //显示有以下版本\n    docker-ce.x86_64            18.03.0.ce-1.el7.centos             docker-ce-stable\n//指定一个版本进行安装\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" docker-ce-"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("VERSION STRING"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n4、启动doker\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl start docker\n\n5、通过运行hello-world镜像验证安装是否成功\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" docker run hello-world\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"2"}},[s("li",[this._v("安装 Nginx 服务，以 CentOS 7.4 为例")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("1.添加Nginx到YUM源\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" rpm -Uvh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm\n\n2.安装Nginx\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y nginx\nNginx将完成安装在你的CentOS 7 服务器中。\n\n3.启动Nginx\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" nginx start\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"通过-docker，启动-lanproxy-服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#通过-docker，启动-lanproxy-服务","aria-hidden":"true"}},[this._v("#")]),this._v(" 通过 Docker，启动 lanproxy 服务")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("docker run -d \\\n           --name lanproxy-server \\\n           -p 8090:8090 \\\n           -p 4900:4900 \\\n           -p 4993:4993 \\\n           -p 9000-9100:9000-9100 \\\n           biodwhu/lanproxy\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"assets/1544794304011.png",alt:"1544794304011"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"nginx-反向代理配置域名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginx-反向代理配置域名","aria-hidden":"true"}},[this._v("#")]),this._v(" Nginx 反向代理配置域名")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 两个域名都解析到你的公网上去")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这个域名由于访问 lanproxy 管理后台")]),t._v("\nlanproxy.frankfeekr.cn  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 120.92.10.120  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Nginx to "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 127.0.0.1:8090\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这个域名由于访问你的内网电脑服务，9000 端口可自由的在 lanproxy 管理后台进行配置")]),t._v("\njupyter.frankfeekr.cn   "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 120.92.10.120  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Nginx to "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 127.0.0.1:9000\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[s("p",[this._v("进入 "),s("code",[this._v("/etc/nginx/conf.d")]),this._v(" Nginx 的配置目录，在这里创建配置文件")])]),this._v(" "),s("li",[s("p",[this._v("创建 "),s("code",[this._v("lanproxy.frankfeekr.cn.conf")]),this._v(" 配置文件")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v('server {\n    listen 80;\n    # 这里使用自己的域名\n    server_name lanproxy.frankfeekr.cn;\n    charset utf-8;\n    location / {\n        proxy_set_header   X-Real-IP $remote_addr;\n        proxy_set_header   Host      $http_host;\n        # 这里根据你的 lanproxy 配置，改成 config.server.port的值\n        proxy_pass       http://127.0.0.1:8090;\n        client_max_body_size 35m;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection "upgrade";\n    }\n}\n')])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"3"}},[s("li",[this._v("创建  "),s("code",[this._v("jupyter.frankfeekr.cn.conf")]),this._v(" 配置文件")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v('server {\n    listen 80;\n    # 这里使用自己的域名\n    server_name jupyter.frankfeekr.cn;\n    charset utf-8;\n    location / {\n        proxy_set_header   X-Real-IP $remote_addr;\n        proxy_set_header   Host      $http_host;\n        # 这里根据你的lanproxy配置，改成 外网接口 的值，在lanproxy后台网页上配置，后面配置\n        proxy_pass       http://127.0.0.1:9000;\n        client_max_body_size 35m;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection "upgrade";\n    }\n}\n')])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"4"}},[s("li",[this._v("重启 Nginx 服务")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("service")]),this._v(" nginx restart\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"继续配置-lanproxy-后台服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#继续配置-lanproxy-后台服务","aria-hidden":"true"}},[this._v("#")]),this._v(" 继续配置 lanproxy 后台服务")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("添加一个客户端")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"assets/1544795186699.png",alt:"1544795186699"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"2"}},[s("li",[this._v("添加配置")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"assets/1544795764181.png",alt:"1544795764181"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-3-内网电脑配置（java-客户端）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-内网电脑配置（java-客户端）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.3 内网电脑配置（Java 客户端）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("这里我的内网是一台 Ubuntu 16.04 的服务器，以下我都将以此为例")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"java-1-8-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#java-1-8-安装","aria-hidden":"true"}},[this._v("#")]),this._v(" Java 1.8 安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("下载 JDK1.8（lanproxy 支持 JDK1.7 以上环境）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("wget")]),this._v(" https://download.oracle.com/otn-pub/java/jdk/8u191-b12/2787e4a523244c269598db4e85c51e0c/jdk-8u191-linux-x64.tar.gz\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("解压安装包，移动文件夹到 /user/lib 目录")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("tar")]),this._v(" -zxvf jdk-8u191-linux-x64.tar.gz\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("mv")]),this._v(" jdk1.8.0_191 /usr/lib/jdk/jdk1.8.0_191\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[s("p",[this._v("环境变量配置")]),this._v(" "),s("p",[this._v("这里是将环境变量配置在 etc/profile，即为所有用户配置 JDK 环境。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("$ vim + etc/profile\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#set java env")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" JAVA_HOME"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/lib/jdk/jdk1.8.0_191\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" JRE_HOME"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JAVA_HOME}")]),t._v("/jre    \n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" CLASSPATH"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(".:"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JAVA_HOME}")]),t._v("/lib:"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JRE_HOME}")]),t._v("/lib    \n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" PATH"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JAVA_HOME}")]),t._v("/bin:"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PATH")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("source")]),this._v(" /etc/profile\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[s("p",[this._v("配置软连接")]),this._v(" "),s("p",[this._v("软连接相当于windows系统中的快捷键，部分软件可能会从/usr/bin目录下查找Java，因此添加该软连接防止其他软件查找不到的情况。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" update-alternatives --install /usr/bin/java  java  /usr/lib/jdk/jdk1.8.0_191/java 300   \n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" update-alternatives --install /usr/bin/javac  javac  /usr/lib/jdk/jdk1.8.0_191/bin/javac 300 \n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("测试安装是否成功")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# 在终端输入，出现版本号则表示安装成功")]),this._v("\n$ java -version\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"maven-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#maven-安装","aria-hidden":"true"}},[this._v("#")]),this._v(" maven 安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"assets/20170724230855998.png",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("wget")]),this._v(" https://www-eu.apache.org/dist/maven/maven-3/3.6.0/binaries/apache-maven-3.6.0-bin.tar.gz\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"2"}},[s("li",[this._v("解压到 /opt/maven 目录")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("mkdir")]),this._v(" /opt/maven\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("tar")]),this._v(" zxvf apache-maven-3.6.0-bin.tar.gz -C /opt/maven\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"3"}},[s("li",[this._v("配置 maven 环境")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("$ vim + /etc/profile\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# set maven env")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" M2_HOME"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/maven/apache-maven-3.6.0\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" CLASSPATH"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CLASSPATH")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$M2_HOME")]),t._v("/lib\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" PATH"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PATH")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$M2_HOME")]),t._v("/bin\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("source")]),this._v(" /etc/profile\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("$ mvn -v\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"4"}},[s("li",[this._v("修改 maven 源为阿里云，以及仓库默认存放路径。这样 maven 下载 jar 包的速度会快很多。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("$ vim /opt/maven/apache-maven-3.6.0/conf/settings.xml\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"assets/1544797073237.png",alt:"1544797073237"}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-xml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("localRepository")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("maven/reposity"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("localRepository")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"assets/1544797106999.png",alt:"1544797106999"}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-xml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("mirrors")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("mirror")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("alimaven"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("aliyun maven"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  　　"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("url")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("http://maven.aliyun.com/nexus/content/groups/public/"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("url")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("mirrorOf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("central"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("mirrorOf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("        \n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("mirror")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("mirrors")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"启动内网服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动内网服务","aria-hidden":"true"}},[this._v("#")]),this._v(" 启动内网服务")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"assets/1544797593907.png",alt:"1544797593907"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"assets/1544797708925.png",alt:"1544797708925"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"运行-lanproxy-client-服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行-lanproxy-client-服务","aria-hidden":"true"}},[this._v("#")]),this._v(" 运行 lanproxy client 服务")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("克隆 "),s("code",[this._v("lanproxy")]),this._v(" 代码到本地电脑")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("git")]),this._v(" clone https://github.com/ffay/lanproxy.git lanproxy\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"2"}},[s("li",[this._v("打包 "),s("code",[this._v("lanproxy")]),this._v("\n打包之前需要确保你安装了 "),s("code",[this._v("maven")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("cd")]),this._v(" lanproxy\n$ mvn package\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ol",{attrs:{start:"3"}},[e("li",[t._v("修改配置文件信息\n打包完成之后，客户端文件会出现在 "),e("code",[t._v("distribution/proxy-client-0.1")]),t._v(" 目录下，打开之后有是个文件夹："),e("code",[t._v("bin")]),t._v("、"),e("code",[t._v("conf")]),t._v("、"),e("code",[t._v("lib")]),t._v("和"),e("code",[t._v("log")]),t._v("，配置信息在 "),e("code",[t._v("conf/config.properties")]),t._v(" 文件内，根据前面服务端的配置信息修改一下。")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这里是在lanproxy后台配置的密钥")]),t._v("\nclient.key"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("e6a49a19b8024652ab4ff2210abf2c6a\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置ssl信息，根据服务端的配置填写（enable = false 就不需要配置）")]),t._v("\nssl.enable"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("false\nssl.jksPath"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("test.jks\nssl.keyStorePassword"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("123456\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 服务器的ip")]),t._v("\nserver.host"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("120.92.10.120\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#proxy-server ssl默认端口4993，默认普通端口4900")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ssl.enable=true时这里填写ssl端口，ssl.enable=false时这里填写普通端口")]),t._v("\nserver.port"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("4900\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"4"}},[s("li",[this._v("启动客户端\n客户端信息配置完成之后就可以启动客户端了")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# mac/linux使用这个")]),this._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("bash")]),this._v("  bin/startup.sh\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# Windows 直接运行 bin/startup.bat")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"5"}},[s("li",[s("p",[this._v("访问测试")]),this._v(" "),s("p",[this._v("至此，即可通过公网域名 http://jupyter.frankfeekr.cn 访问内网服务，实现内网穿透")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"assets/1544798196919.png",alt:"1544798196919"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"6"}},[s("li",[this._v("停止客户端")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("bash")]),this._v("  bin/stop.sh\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"lanproxy-网页后台服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lanproxy-网页后台服务","aria-hidden":"true"}},[this._v("#")]),this._v(" lanproxy 网页后台服务")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"assets/1544798600592.png",alt:"1544798600592"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"assets/1544798624799.png",alt:"1544798624799"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-4-内网电脑配置（go-客户端）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-内网电脑配置（go-客户端）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4 内网电脑配置（GO 客户端）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"安装go环境安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装go环境安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装Go环境安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("1. buntu、Debian或Linux Mint安装Go语言")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("apt-get")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" golang\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("go version\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("由于 Go 代码必需保存在 workspace(工作区)中，所以我们必需在 "),s("strong",[this._v("Home")]),this._v(" 目录(例如 ~/workspace)创建一个"),s("strong",[this._v("workspace")]),this._v(" 目录并定义 "),s("strong",[this._v("GOPATH")]),this._v(" 环境变量指向该目录，这个目录将被 Go 工具用于保存和编辑二进制文件。")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" ~/workspace\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'export GOPATH=\""),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$HOME")]),t._v("/workspace\"'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" ~/.bashrc\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("source")]),t._v(" ~/.bashrc\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" apt-cache search golang\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("2. Fedora、CentOS或RHEL安装Go语言")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" yum update\n"),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" yum "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" golang\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("go version\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" ~/workspace\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'export GOPATH=\""),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$HOME")]),t._v("/workspace\"'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" ~/.bashrc\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("source")]),t._v(" ~/.bashrc\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("yum search golang\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"拉取-ffay-lanproxy-go-client-代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拉取-ffay-lanproxy-go-client-代码","aria-hidden":"true"}},[this._v("#")]),this._v(" 拉取 ffay/lanproxy-go-client 代码")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("git")]),this._v(" clone https://github.com/ffay/lanproxy-go-client.git\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"安装客户端依赖包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装客户端依赖包","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装客户端依赖包")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("cd")]),this._v(" lanproxy-go-client\nsh build-release.sh\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"启动客户端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动客户端","aria-hidden":"true"}},[this._v("#")]),this._v(" 启动客户端")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("普通端口连接")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mac 64位")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" ./client_darwin_amd64 -s SERVER_IP -p SERVER_PORT -k CLIENT_KEY "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# linux 64位")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" ./client_linux_amd64 -s SERVER_IP -p SERVER_PORT -k CLIENT_KEY "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# windows 64 位")]),t._v("\n./client_windows_amd64.exe -s SERVER_IP -p SERVER_PORT -k CLIENT_KEY\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("SSL端口连接")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mac 64位")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" ./client_darwin_amd64 -s SERVER_IP -p SERVER_SSL_PORT -k CLIENT_KEY -ssl "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# linux 64位")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" ./client_linux_amd64 -s SERVER_IP -p SERVER_SSL_PORT -k CLIENT_KEY -ssl "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# windows 64 位")]),t._v("\n./client_windows_amd64.exe -s SERVER_IP -p SERVER_SSL_PORT -k CLIENT_KEY -ssl "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("nohup ./client_linux_amd64 -s lp.thingsglobal.org -p 4900 -k 01c1e176d6ee466c8db717a8 &\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("GLOBAL OPTIONS:\n   -k value       client key\n   -s value       proxy server host\n   -p value       proxy server port "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default: 4900"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   --ssl value    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("enable")]),t._v(" ssl "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default: "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v(", -p value should be server ssl port"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   --cer value    ssl cert path, default skip verify certificate\n   --help, -h     show "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("help")]),t._v("\n   --version, -v  print the version\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"三、总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、总结","aria-hidden":"true"}},[this._v("#")]),this._v(" 三、总结")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"参考资料"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考资料","aria-hidden":"true"}},[this._v("#")]),this._v(" 参考资料")])}],!1,null,null,null);r.options.__file="手把手教你，搭建内网穿透服务.md";s.default=r.exports}}]);